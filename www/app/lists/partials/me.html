<div>
  <div class="row">
    <div class="col-sm-12 text-center">
      <h1>
        <span translate translate-comment="Welcome {{username}}">Welcome</span>
        {{user.name ? user.name : user.username}}
      </h1>
    </div>
  </div>

  <div class="row settings">
    <div class="col-sm-offset-2 col-sm-8">
      <h3 translate>Settings</h3>

      <form class="form-horizontal" role="form">
        <div class="form-group">
          <label for="caxton_code" class="col-sm-3 control-label">
            <a href="https://caxton.herokuapp.com/" target="_blank" translate>Caxton Code</a>:
          </label>
          <div class="col-sm-9">
            <input type="text" class="form-control" id="caxton_code" placeholder="Code" ng-model="settings.caxton_code" />
            <span class="small-note" ng-if="user.has_caxton" translate>
              You are already connected via Caxton!
            </span>
          </div>
        </div>

        <div class="pull-right">
          <button class="btn btn-success" ng-click="saveSettings()" ng-disabled="!settings.caxton_code">
            <i class="fa" ng-class="{'fa-check': !saving, 'fa-spinner fa-spin': saving}"></i>
            <span translate>Save</span>
          </button>
        </div>
      </form>
    </div>
  </div>

  <div class="row lists">
    <div class="col-sm-12">
      <button class="btn btn-primary btn-sm pull-right" ui-sref="me.listedit({id: 'new'})">
        <i class="fa fa-plus"></i>
        <span class="hidden-xs" translate>New List</span>
      </button>

      <h3 translate>My Lists</h3>
    </div>
  </div>

  <div ng-repeat="list in lists | orderBy:'name'">
    <div class="row lists">
      <div class="col-xs-12">
        <div class="pull-right">
          <a class="btn btn-info btn-sm hidden-xs" ui-sref="list({id: list._id})">
            <i class="fa fa-eye"></i>
            <span translate>View</span>
          </a>

          <a class="btn btn-success btn-sm" ui-sref="me.listedit({id: list._id})">
            <i class="fa fa-edit"></i>
            <span class="hidden-xs" translate>Edit</span>
          </a>

          <button class="btn btn-danger btn-sm" ng-click="remove(list)">
            <i class="fa fa-trash"></i>
            <span class="hidden-xs" translate>Delete</span>
          </button>
        </div>

        <div class="list-group">
          <a class="list-group-item clickable" ui-sref="list({id: list._id})">
            <div class="row-action-primary">
              <div class="action-icon ubuntu-shape">
                <i class="fa {{icon(list.name)}}" ng-style="strToColor(list.name, 'background-color')"></i>
              </div>
            </div>

            <div class="row-content">
              <h4 class="list-group-item-heading" ng-bind="list.name"></h4>
              <p class="list-group-item-text"
                translate translate-n="list.packages.length" translate-plural="{{list.packages.length}} apps">
                {{list.packages.length}} apps
              </p>
            </div>
          </a>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-xs-12">
        <div class="separator"></div>
      </div>
    </div>
  </div>
</div>
